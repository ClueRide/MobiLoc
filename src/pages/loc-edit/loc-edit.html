<ion-header>
  <ion-navbar>
    <ion-title>Editing: {{location.name}}</ion-title>

    <ion-buttons end>
      <button ion-button (click)="save()">
        Save
      </button>
      <connection-state></connection-state>
    </ion-buttons>

    <ion-segment [(ngModel)]="editSegment" color="secondary">
      <ion-segment-button value="draft">
        Location
      </ion-segment-button>
      <ion-segment-button value="attraction">
        Puzzles
      </ion-segment-button>
      <ion-segment-button value="featured">
        Features
      </ion-segment-button>
    </ion-segment>

  </ion-navbar>
</ion-header>

<ion-content>
  <div [ngSwitch]="editSegment">

    <div *ngSwitchCase="'draft'">
      <ion-grid>
        <!-- Name -->
        <ion-row>
          <ion-col col-3>
            <ion-label>Name</ion-label>
          </ion-col>
          <ion-col col-9>
            <ion-item>
              <ion-input class="value-field"
                         [(ngModel)]="location.name">
              </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <!-- Type -->
        <ion-row>
          <ion-col col-3>
            <ion-label>Type</ion-label>
          </ion-col>
          <ion-col col-9>
            <ion-select class="value-field"
                        [(ngModel)]="location.locationTypeId">
              <ion-option *ngFor="let o of locTypes" [value]="o.value">
                {{o.text}}
              </ion-option>
            </ion-select>
          </ion-col>
        </ion-row>

        <!-- Description -->
        <ion-row>
          <ion-col col-3>
            <ion-label>Description</ion-label>
          </ion-col>
          <ion-col col-9>
            <ion-item>
              <ion-textarea class="value-field" [(ngModel)]="location.description"></ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>

      <!-- Featured Image -->
      <ion-grid class="image-edit">

        <ion-row>
          <ion-col col-12>
            <ion-label>Featured Image</ion-label>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-12>
            <img *ngIf="location.featuredImage && location.featuredImage.url"
                 src="{{location.featuredImage.url}}"
                 (press)="showImageActions()"
            />
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-6>
            <ion-buttons>
              <button ion-button round
                      (click)="captureImage()">
                New Image
              </button>
            </ion-buttons>
          </ion-col>
          <ion-col col-6>
            <ion-buttons>
              <button ion-button round>
                From Gallery
              </button>
            </ion-buttons>
          </ion-col>
        </ion-row>

      </ion-grid>
    </div>

    <div *ngSwitchCase="'attraction'">
      <puzzle-list [location]="location">
      </puzzle-list>
    </div>

    <div *ngSwitchCase="'featured'">Featured</div>

  </div>

</ion-content>

